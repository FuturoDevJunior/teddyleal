<!-- HERO VISUAL -->
<p align="center" style="margin-bottom: 0;">
  <img src="encurteddy.png" alt="Logo EncurTeddy" width="160" style="border-radius: 50%; box-shadow: 0 2px 16px #0003; margin-bottom: 0;"/>
</p>

<div align="center" style="margin-top: -12px;">
  <h1 style="font-size: 2.8rem; font-weight: bold; margin-bottom: 0;">üêª <span style="color:#7B3FE4;">EncurTeddy</span></h1>
  <p style="font-size: 1.2rem; color: #555; margin-top: 0;">
    <strong>Encurtador de URLs Profissional ‚Ä¢ Multi-Tenant ‚Ä¢ Observabilidade ‚Ä¢ Deploy Cloud</strong>
  </p>
</div>

<!-- BADGES AGRUPADOS -->
<p align="center" style="margin-top: 0;">
  <!-- Build Status -->
  <a href="https://github.com/FuturoDevJunior/teddyleal/actions" title="Status do Build (GitHub Actions)">
    <img src="https://img.shields.io/github/actions/workflow/status/FuturoDevJunior/teddyleal/ci.yml?branch=main&label=build&logo=github&style=flat-square&color=4CAF50" alt="Build Status"/>
  </a>
  <!-- Coverage -->
  <a href="https://codecov.io/gh/FuturoDevJunior/teddyleal" title="Cobertura de Testes (Codecov)">
    <img src="https://img.shields.io/codecov/c/github/FuturoDevJunior/teddyleal?style=flat-square&logo=codecov&color=7B3FE4" alt="Coverage"/>
  </a>
  <!-- Deploy/Cloud Status (Railway) -->
  <a href="https://railway.app/project/teddyleal" title="Deploy Cloud Railway">
    <img src="https://img.shields.io/badge/railway-deploy-0B0D0E?logo=railway&logoColor=white&style=flat-square" alt="Railway Deploy"/>
  </a>
  <!-- Docker -->
  <a href="https://hub.docker.com/" title="Docker Ready">
    <img src="https://img.shields.io/badge/docker-ready-2496ED?logo=docker&logoColor=white&style=flat-square" alt="Docker Ready"/>
  </a>
  <!-- Issues abertas -->
  <a href="https://github.com/FuturoDevJunior/teddyleal/issues" title="Issues Abertas">
    <img src="https://img.shields.io/github/issues/FuturoDevJunior/teddyleal?style=flat-square&label=issues&color=FF9800&logo=github" alt="Issues"/>
  </a>
  <!-- Node Version -->
  <a href="https://nodejs.org/" title="Node.js Version">
    <img src="https://img.shields.io/badge/node-%3E=20.x-339933?style=flat-square&logo=node.js&logoColor=white" alt="Node.js Version"/>
  </a>
  <!-- License -->
  <a href="https://github.com/FuturoDevJunior/teddyleal/blob/main/LICENSE" title="Licen√ßa MIT">
    <img src="https://img.shields.io/badge/license-MIT-222?style=flat-square&logo=github" alt="License: MIT"/>
  </a>
</p>

<hr style="border: none; border-top: 2px solid #eee; margin: 24px 0;"/>

<!-- SUM√ÅRIO VISUAL EM CARDS -->
<div align="center">
  <table>
    <tr>
      <td align="center"><a href="#visao-geral">‚ú®<br><b>Vis√£o Geral</b></a></td>
      <td align="center"><a href="#tecnologias-utilizadas">üß∞<br><b>Tecnologias</b></a></td>
      <td align="center"><a href="#diferenciais-do-projeto">üèÜ<br><b>Diferenciais</b></a></td>
      <td align="center"><a href="#arquitetura--componentes">üèóÔ∏è<br><b>Arquitetura</b></a></td>
      <td align="center"><a href="#como-executar-localmente">üöÄ<br><b>Execu√ß√£o</b></a></td>
      <td align="center"><a href="#faq">‚ùì<br><b>FAQ</b></a></td>
      <td align="center"><a href="#contato-e-suporte">üì¨<br><b>Contato</b></a></td>
    </tr>
  </table>
</div>

## üìë Sum√°rio

- [Vis√£o Geral](#visao-geral)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Diferenciais do Projeto](#diferenciais-do-projeto)
- [Requisitos Atendidos](#requisitos-atendidos)
- [Poss√≠veis Features Futuras](#poss√≠veis-features-futuras)
- [Arquitetura & Componentes](#arquitetura--componentes)
- [Como Executar Localmente](#como-executar-localmente)
- [Configura√ß√£o de Vari√°veis de Ambiente](#configura√ß√£o-de-vari√°veis-de-ambiente)
- [Scripts e Comandos √öteis](#scripts-e-comandos-√∫teis)
- [Padr√µes de C√≥digo, Arquitetura e Contribui√ß√£o](#padr√µes-de-c√≥digo-arquitetura-e-contribui√ß√£o)
- [Endpoints Principais e Exemplos de Uso](#endpoints-principais-e-exemplos-de-uso)
- [Autentica√ß√£o e Multi-Tenant](#autentica√ß√£o-e-multi-tenant)
- [Observabilidade e Instrumenta√ß√£o](#observabilidade-e-instrumenta√ß√£o)
- [Deploy Cloud, Kubernetes e Terraform](#deploy-cloud-kubernetes-e-terraform)
- [CI/CD, Hooks e Qualidade](#cicd-hooks-e-qualidade)
- [Pontos de Melhoria e Escalabilidade](#pontos-de-melhoria-e-escalabilidade)
- [FAQ](#faq)
- [Links √öteis](#-links-√∫teis)
- [Roadmap](#roadmap)
- [Licen√ßa](#licen√ßa)
- [Contato e Suporte](#contato-e-suporte)

---

## üö¶ Demonstra√ß√£o R√°pida

Veja como encurtar e acessar uma URL em segundos:

```bash
# 1. Encurtar uma URL (substitua <token> se necess√°rio)
curl -X POST http://localhost:3000/api/v1/shorten \
  -H 'Content-Type: application/json' \
  -d '{"originalUrl": "https://exemplo.com"}'

# 2. Redirecionar (acessar a URL encurtada)
curl -v http://localhost:3000/aZbKq7
```

> Para mais exemplos, veja a se√ß√£o [Endpoints Principais e Exemplos de Uso](#endpoints-principais-e-exemplos-de-uso).

---

## ‚ú® Vis√£o Geral

Solu√ß√£o completa, escal√°vel e profissional para encurtamento de URLs, autentica√ß√£o, multi-tenant, observabilidade e infraestrutura como c√≥digo. Demonstra dom√≠nio em arquitetura de APIs REST, Clean Code, SOLID, automa√ß√£o, escalabilidade horizontal, testes e pr√°ticas de engenharia modernas.

---

## üß∞ Tecnologias Utilizadas

| Stack         | Tecnologias principais                                                                 |
|--------------|----------------------------------------------------------------------------------------|
| **Back-End** | Node.js, Express, TypeScript, Prisma, JWT, OpenAPI                                    |
| **IAM**      | Node.js, Express, JWT                                                                 |
| **Infra**    | Docker, Docker Compose, Kubernetes (K8s), Terraform, Railway, KrakenD (API Gateway)   |
| **Observab.**| Prometheus, Jaeger, OpenTelemetry, Winston (logs)                                     |
| **CI/CD**    | GitHub Actions, Husky                                                                 |

---

## üèÜ Diferenciais do Projeto

- **Multi-Tenant**: Isolamento de dados por empresa via header `x-tenant-id`.
- **Observabilidade Completa**: Logs estruturados, m√©tricas Prometheus, tracing Jaeger/OpenTelemetry.
- **Infraestrutura como C√≥digo**: Deploy local (Docker Compose), cloud (Railway), K8s e Terraform.
- **Clean Code & SOLID**: C√≥digo modular, test√°vel e extens√≠vel.
- **Documenta√ß√£o Profissional**: OpenAPI, exemplos, scripts e FAQ.
- **CI/CD Automatizado**: Testes, lint, build e versionamento sem√¢ntico.

---

## üìã Requisitos Atendidos

| Requisito | Status |
|-----------|:------:|
| Cadastro e autentica√ß√£o de usu√°rios (IAM) | ‚úÖ |
| Encurtamento de URLs (m√°x. 6 caracteres) | ‚úÖ |
| Associa√ß√£o de URLs a usu√°rios autenticados | ‚úÖ |
| Listagem, edi√ß√£o, exclus√£o l√≥gica e contabiliza√ß√£o de cliques | ‚úÖ |
| Soft delete e controle de timestamps | ‚úÖ |
| Multi-tenant (header `x-tenant-id`) | ‚úÖ |
| Observabilidade (logs, m√©tricas, tracing) | ‚úÖ |
| Deploy via Docker Compose, K8s, Terraform | ‚úÖ |
| Testes automatizados, CI/CD, hooks, versionamento, documenta√ß√£o OpenAPI | ‚úÖ |

## üöÄ Poss√≠veis Features Futuras

Abaixo est√£o sugest√µes de funcionalidades que podem ser implementadas para evoluir o EncurTeddy:

- **Painel do Usu√°rio (Dashboard):** Visualiza√ß√£o de URLs, estat√≠sticas de cliques, filtros e busca.
- **Expira√ß√£o Personalizada de URLs:** Definir data/hora de expira√ß√£o ao criar uma URL.
- **Customiza√ß√£o de ShortCode:** Usu√°rio pode escolher o c√≥digo encurtado, com valida√ß√£o de unicidade.
- **Analytics Avan√ßado:** Gr√°ficos de cliques, origem geogr√°fica, dispositivos, exporta√ß√£o de relat√≥rios.
- **Prote√ß√£o por Senha:** URLs encurtadas podem exigir senha para redirecionamento.
- **Integra√ß√£o com Webhooks:** Notifica√ß√µes externas a cada clique, cria√ß√£o ou expira√ß√£o de URL.
- **API Key para Integra√ß√£o:** Gera√ß√£o de API Keys para uso program√°tico seguro da API.
- **Suporte a Multi-Tenant Avan√ßado:** Isolamento de dados por organiza√ß√£o, admins e usu√°rios por tenant.
- **Shortener para Arquivos:** Upload de arquivos pequenos e gera√ß√£o de links curtos para download.
- **Blacklist/Whitelist de Dom√≠nios:** Bloquear dom√≠nios maliciosos ou permitir apenas dom√≠nios autorizados.
- **QR Code Din√¢mico:** Gerar QR Code para cada URL encurtada, com tracking de escaneamentos.
- **Limite de Uso e Planos:** Diferentes limites de uso por plano, integra√ß√£o com sistemas de pagamento.
- **Notifica√ß√µes e Alertas:** E-mail ou push para eventos como expira√ß√£o ou n√∫mero de cliques.
- **Admin Dashboard:** Gerenciamento de usu√°rios, URLs, monitoramento de abuso, estat√≠sticas globais.
- **Melhorias de Seguran√ßa:** 2FA, rate limit adaptativo, monitoramento de tentativas de ataque.

## üõ£Ô∏è Roadmap Visual do Projeto

O roadmap abaixo apresenta a evolu√ß√£o planejada e realizada do EncurTeddy, agrupando entregas por temas e releases. Cada item possui status visual para facilitar acompanhamento e prioriza√ß√£o.

### Legenda de Status
- ‚úÖ Feito
- üöß Em andamento
- üïí Planejado

### Roadmap Geral

| Tema/Release                | Feature/Entrega                                         | Status |
|----------------------------|--------------------------------------------------------|:------:|
| **MVP**                    | Cadastro e autentica√ß√£o de usu√°rios (IAM)              | ‚úÖ     |
|                            | Encurtamento de URLs (m√°x. 6 caracteres)               | ‚úÖ     |
|                            | Associa√ß√£o de URLs a usu√°rios autenticados             | ‚úÖ     |
|                            | Listagem, edi√ß√£o, exclus√£o l√≥gica, contabiliza√ß√£o      | ‚úÖ     |
|                            | Soft delete e controle de timestamps                   | ‚úÖ     |
|                            | Multi-tenant (header `x-tenant-id`)                    | ‚úÖ     |
|                            | Documenta√ß√£o OpenAPI/Swagger                           | ‚úÖ     |
|                            | Testes automatizados (unit√°rio/integr.)                | ‚úÖ     |
|                            | CI/CD, hooks, versionamento, cobertura                 | ‚úÖ     |
| **Observabilidade**        | Logs estruturados (Winston)                            | ‚úÖ     |
|                            | M√©tricas Prometheus                                    | ‚úÖ     |
|                            | Tracing Jaeger/OpenTelemetry                           | ‚úÖ     |
| **Infraestrutura**         | Deploy local (Docker Compose)                          | ‚úÖ     |
|                            | Deploy cloud (Railway)                                 | ‚úÖ     |
|                            | Kubernetes (manifests)                                 | ‚úÖ     |
|                            | Terraform (infraestrutura como c√≥digo)                 | ‚úÖ     |
|                            | API Gateway (KrakenD)                                  | ‚úÖ     |
| **Seguran√ßa**              | Rate limit por endpoint sens√≠vel                       | ‚úÖ     |
|                            | JWT seguro, vari√°veis via .env                         | ‚úÖ     |
|                            | Blacklist/Whitelist de dom√≠nios                        | üïí     |
|                            | Prote√ß√£o por senha nas URLs                            | üïí     |
|                            | 2FA para login                                         | üïí     |
| **Analytics & Dashboard**  | Painel do usu√°rio (dashboard)                          | üïí     |
|                            | Analytics avan√ßado (cliques, origem, exporta√ß√£o)       | üïí     |
|                            | QR Code din√¢mico para URLs                             | üïí     |
| **Expans√£o de Produto**    | Customiza√ß√£o de ShortCode                              | üïí     |
|                            | Expira√ß√£o personalizada de URLs                        | üïí     |
|                            | Notifica√ß√µes e alertas (e-mail, push)                  | üïí     |
|                            | Integra√ß√£o com webhooks                                | üïí     |
|                            | API Key para integra√ß√£o                                | üïí     |
|                            | Shortener para arquivos                                | üïí     |
|                            | Limite de uso e planos                                 | üïí     |
|                            | Admin dashboard                                        | üïí     |
| **Escalabilidade**         | Cache distribu√≠do (Redis) para contadores              | üïí     |
|                            | Rate limit global/distribu√≠do                          | üïí     |
|                            | Deploy multi-regi√£o, balanceamento de carga            | üïí     |
|                            | Sess√£o distribu√≠da, mensageria, monitoramento central  | üïí     |
| **Internacionaliza√ß√£o**    | Interface e docs multil√≠ngue                           | üïí     |

---

### Fluxograma de Evolu√ß√£o

```text
MVP
‚îÇ
‚îú‚îÄ‚îÄ Autentica√ß√£o (IAM) ‚îÄ‚îÄ‚î¨‚îÄ Cadastro/Login
‚îÇ                        ‚îî‚îÄ JWT, Multi-Tenant
‚îú‚îÄ‚îÄ Encurtamento         ‚îÄ‚îÄ‚î¨‚îÄ Criar/Redirecionar URL
‚îÇ                        ‚îî‚îÄ Listar/Editar/Excluir
‚îú‚îÄ‚îÄ Observabilidade      ‚îÄ‚îÄ‚î¨‚îÄ Logs
‚îÇ                        ‚îú‚îÄ M√©tricas
‚îÇ                        ‚îî‚îÄ Tracing
‚îú‚îÄ‚îÄ Infraestrutura       ‚îÄ‚îÄ‚î¨‚îÄ Docker Compose
‚îÇ                        ‚îú‚îÄ Railway
‚îÇ                        ‚îú‚îÄ K8s
‚îÇ                        ‚îî‚îÄ Terraform
‚îÇ
‚îú‚îÄ‚îÄ Seguran√ßa            ‚îÄ‚îÄ‚î¨‚îÄ Rate Limit
‚îÇ                        ‚îî‚îÄ JWT seguro
‚îÇ
‚îú‚îÄ‚îÄ Analytics & Dashboard (futuro)
‚îÇ   ‚îú‚îÄ Dashboard
‚îÇ   ‚îú‚îÄ Analytics avan√ßado
‚îÇ   ‚îî‚îÄ QR Code
‚îÇ
‚îú‚îÄ‚îÄ Expans√£o de Produto (futuro)
‚îÇ   ‚îú‚îÄ Customiza√ß√£o de ShortCode
‚îÇ   ‚îú‚îÄ Expira√ß√£o personalizada
‚îÇ   ‚îú‚îÄ Notifica√ß√µes/Webhooks
‚îÇ   ‚îú‚îÄ API Key
‚îÇ   ‚îú‚îÄ Shortener para arquivos
‚îÇ   ‚îî‚îÄ Admin dashboard
‚îÇ
‚îú‚îÄ‚îÄ Escalabilidade (futuro)
‚îÇ   ‚îú‚îÄ Cache distribu√≠do
‚îÇ   ‚îú‚îÄ Rate limit global
‚îÇ   ‚îú‚îÄ Multi-regi√£o
‚îÇ   ‚îî‚îÄ Sess√£o distribu√≠da
‚îÇ
‚îî‚îÄ‚îÄ Internacionaliza√ß√£o (futuro)
```

---

## üèóÔ∏è Arquitetura & Componentes

- **backend/** ‚Äî Servi√ßo principal de encurtamento de URLs (Node.js, Express, TypeScript, Prisma, JWT, Observabilidade, OpenAPI)
- **iam/** ‚Äî Servi√ßo de autentica√ß√£o/autoriza√ß√£o (IAM, pronto para extens√£o)
- **k8s/** ‚Äî Manifests para Kubernetes
- **terraform/** ‚Äî Infraestrutura como c√≥digo (cloud, DB, etc.)
- **.github/** ‚Äî Workflows de CI/CD
- **krakend.json** ‚Äî Configura√ß√£o do API Gateway (KrakenD)
- **docker-compose.yml** ‚Äî Orquestra√ß√£o local de todos os servi√ßos

<!-- DIAGRAMA DE ARQUITETURA (ASCII) -->
<div align="center">

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Usu√°rio  ‚îÇ <--> ‚îÇ KrakenD API  ‚îÇ <--> ‚îÇ   Backend   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ  Gateway     ‚îÇ      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
                           ‚îÇ                    ‚îÇ
                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                  ‚îÇ   IAM Service  ‚îÇ    ‚îÇ  PostgreSQL   ‚îÇ
                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

</div>

```
[Usu√°rio] ‚áÑ [KrakenD API Gateway] ‚áÑ [Backend] ‚áÑ [PostgreSQL]
                                 ‚áÑ [IAM Service]
```

---

## üö¶ Como Executar Localmente

### 1. Pr√©-requisitos
- [Docker e Docker Compose](https://docs.docker.com/get-docker/)
- [Node.js 20.x](https://nodejs.org/) (para desenvolvimento local)

### 2. Subir todo o ambiente (recomendado)
```sh
docker-compose up --build
```

### 3. Desenvolvimento local de cada servi√ßo

#### Backend
```sh
cd backend
npm install
cp .env.example .env # configure as vari√°veis
npx prisma migrate dev --name init # apenas backend
npx prisma generate # apenas backend
npm run dev
```

#### IAM
```sh
cd iam
npm install
cp .env.example .env # configure as vari√°veis
npm run dev
```

### 4. Testes

#### Backend (testes reais)
```sh
cd backend
npm test
```

#### IAM (placeholder, sempre retorna sucesso)
```sh
cd iam
npm test
# Sa√≠da esperada: "No tests yet"
```

---

## üö¶ CI/CD Automatizado

O EncurTeddy utiliza GitHub Actions para garantir qualidade, automa√ß√£o e entrega cont√≠nua:

- **CI (`.github/workflows/ci.yml`):**
  - Executa build, lint e testes automatizados para todos os servi√ßos (`backend`, `iam`) a cada push/PR na branch `main`.
  - Utiliza cache de depend√™ncias para acelerar builds.
  - Envia cobertura de testes do backend para o Codecov.
  - O script `test` do IAM √© um placeholder para garantir sucesso no CI/CD at√© que testes reais sejam implementados.
  - O ESLint est√° configurado para projetos modernos (eslint.config.mjs), sem a flag `--ext`.

- **Docker Publish (`.github/workflows/docker-publish.yml`):**
  - Builda e publica imagens Docker para `backend` e `iam` no Docker Hub a cada push na `main` ou cria√ß√£o de tag de release.
  - Imagens s√£o versionadas e tamb√©m publicadas como `latest`.

> Para detalhes, consulte os arquivos em `.github/workflows/` ou o [reposit√≥rio no GitHub](https://github.com/FuturoDevJunior/teddyleal).

---

## üß© Padr√µes de C√≥digo, Arquitetura e Contribui√ß√£o

- **Clean Code & SOLID:** Todos os servi√ßos seguem princ√≠pios de modularidade, responsabilidade √∫nica e extensibilidade.
- **Testes:** Todo novo c√≥digo deve ser coberto por testes automatizados.
- **Documenta√ß√£o:** Atualize README e exemplos ao contribuir.
- **Pull Requests:**
  - Use branches descritivas
  - Explique o contexto e objetivo
  - Relacione issues/tarefas
  - Aguarde revis√£o antes do merge
- **Como contribuir:**
  1. Fa√ßa um fork do reposit√≥rio
  2. Crie uma branch (`git checkout -b feature/nome-feature`)
  3. Commit suas mudan√ßas (`git commit -m 'feat: minha feature'`)
  4. Push na branch (`git push origin feature/nome-feature`)
  5. Abra um Pull Request
- **Veja tamb√©m:**
  - [Guia de Contribui√ß√£o](./backend/CONTRIBUTING.md)
  - [Documenta√ß√£o Backend](./backend/README.md)

## üö¶ CI/CD Automatizado

O EncurTeddy utiliza GitHub Actions para garantir qualidade, automa√ß√£o e entrega cont√≠nua:

- **CI (`.github/workflows/ci.yml`):**
  - Executa build, lint e testes automatizados para todos os servi√ßos (`backend`, `iam`) a cada push/PR na branch `main`.
  - Utiliza cache de depend√™ncias para acelerar builds.
  - Envia cobertura de testes do backend para o Codecov.
  - O script `test` do IAM √© um placeholder para garantir sucesso no CI/CD at√© que testes reais sejam implementados.
  - O ESLint est√° configurado para projetos modernos (eslint.config.mjs), sem a flag `--ext`.

- **Docker Publish (`.github/workflows/docker-publish.yml`):**
  - Builda e publica imagens Docker para `backend` e `iam` no Docker Hub a cada push na `main` ou cria√ß√£o de tag de release.
  - Imagens s√£o versionadas e tamb√©m publicadas como `latest`.

> Para detalhes, consulte os arquivos em `.github/workflows/` ou o [reposit√≥rio no GitHub](https://github.com/FuturoDevJunior/teddyleal).

---

## üìö Endpoints Principais e Exemplos de Uso

### Encurtar URL (p√∫blico ou autenticado)
```http
POST /api/v1/shorten
Content-Type: application/json
Authorization: Bearer <token> (opcional)
{
  "originalUrl": "https://exemplo.com"
}
```
- Resposta: `{ "shortUrl": "http://localhost/aZbKq7" }`

### Redirecionar
```http
GET /aZbKq7
```
- Redireciona e contabiliza acesso

### Listar URLs do usu√°rio (autenticado)
```http
GET /api/v1/urls
Authorization: Bearer <token>
```
- Resposta inclui quantidade de cliques

### Editar URL encurtado (autenticado)
```http
PUT /api/v1/urls/:id
Authorization: Bearer <token>
{
  "originalUrl": "https://novo-destino.com"
}
```

### Deletar URL encurtado (autenticado, soft delete)
```http
DELETE /api/v1/urls/:id
Authorization: Bearer <token>
```

### Autentica√ß√£o
```http
POST /api/v1/auth/login
{
  "email": "user@dominio.com",
  "password": "senha"
}
```
- Resposta: `{ "token": "..." }`

> ‚ÑπÔ∏è **Dica:** Use o [Swagger](http://localhost:3000/api-docs) para testar todos os endpoints de forma interativa!

<!-- BLOCOS DE C√ìDIGO COM DESTAQUE VISUAL -->
<div style="border: 1.5px solid #7B3FE4; border-radius: 8px; background: #f8f6fc; padding: 12px; margin-bottom: 16px;">

```bash
# 1. Encurtar uma URL (substitua <token> se necess√°rio)
curl -X POST http://localhost:3000/api/v1/shorten \
  -H 'Content-Type: application/json' \
  -d '{"originalUrl": "https://exemplo.com"}'

# 2. Redirecionar (acessar a URL encurtada)
curl -v http://localhost:3000/aZbKq7
```

</div>

---

## üîí Autentica√ß√£o e Multi-Tenant

- **Cadastro e login de usu√°rios** via IAM
- **Bearer Token** para endpoints protegidos
- **Multi-tenant:** header `x-tenant-id` para isolar dados por empresa
- URLs encurtadas por usu√°rios autenticados s√£o associadas ao usu√°rio

---

## üìà Observabilidade e Instrumenta√ß√£o

- **Logs:** Winston (estruturados)
- **M√©tricas:** Prometheus (`/metrics`)
- **Tracing:** Jaeger/OpenTelemetry
- **Ativa√ß√£o por vari√°vel de ambiente:** `ENABLE_OBSERVABILITY=true`
- **Configura√ß√£o:** via vari√°veis de ambiente (ex: JAEGER_URL)

---

## ‚òÅÔ∏è Deploy Cloud, Kubernetes e Terraform

- **Deploy cloud:** Railway, GCP, AWS, etc. (ajuste vari√°veis de ambiente)
- **Kubernetes:** manifests em `/k8s` para todos os servi√ßos
- **Terraform:** infraestrutura como c√≥digo em `/terraform`
- **API Gateway:** KrakenD (`krakend.json`)
- **Exemplo de deploy:**
  - `kubectl apply -f k8s/`
  - `terraform apply` (infra)

---

## üîÑ CI/CD, Hooks e Qualidade

- **CI/CD:** GitHub Actions (`.github/workflows/`)
- **Hooks:** Husky (pre-commit, pre-push)
- **Lint, testes e build** automatizados
- **Cobertura m√≠nima:** 80%
- **Changelog:** versionamento sem√¢ntico (`CHANGELOG.md`)
- **Git tags:** releases (`0.1.0`, `0.2.0`, ...)

---

## üß≠ Pontos de Melhoria e Escalabilidade

- Cache distribu√≠do para contadores de cliques (Redis)
- Rate limit global e autentica√ß√£o distribu√≠da
- Deploy multi-regi√£o e balanceamento de carga
- Sess√£o distribu√≠da, cache, mensageria, monitoramento centralizado

---

## ‚ùì FAQ

- **Como resetar o banco?**
  - Pare o Docker, remova o volume `db_data` e suba novamente.
- **Como rodar s√≥ um servi√ßo?**
  - Siga o README do servi√ßo desejado.
- **Como acessar a documenta√ß√£o da API?**
  - [Documenta√ß√£o Swagger (localhost)](http://localhost:3000/api-docs)
- **Como contribuir?**
  - Veja a se√ß√£o [Padr√µes de C√≥digo e Contribui√ß√£o](#padr√µes-de-c√≥digo-arquitetura-e-contribui√ß√£o) e os guias de cada servi√ßo.
- **Porta ocupada?**
  - Rode `docker-compose down` e tente novamente.
- **Banco n√£o conecta?**
  - Verifique `.env` e servi√ßo `db`.
- **Testes falham?**
  - Rode `npm install` e `npx prisma generate`.
- **Problemas com Docker Compose?**
  - Atualize Docker/Compose.
- **Deploy cloud falha?**
  - Confira vari√°veis e logs.

---

## üîó Links √öteis

- [Documenta√ß√£o da API (Swagger)](http://localhost:3000/api-docs) ‚Äî Teste e explore todos os endpoints da API.
- [Documenta√ß√£o do Backend](./backend/README.md) ‚Äî Guia completo de uso, arquitetura e endpoints.
- [Guia de Contribui√ß√£o](./backend/CONTRIBUTING.md) ‚Äî Como contribuir, padr√µes de c√≥digo e fluxo de PRs.
- [Arquivo de Deploy Railway](./railway.json) ‚Äî Configura√ß√£o para deploy cloud.
- [Orquestra√ß√£o Docker Compose](./docker-compose.yml) ‚Äî Suba todo o ambiente localmente.
- [Configura√ß√£o do API Gateway (KrakenD)](./krakend.json) ‚Äî Gateway de APIs.
- [Changelog do Projeto](./CHANGELOG.md) ‚Äî Hist√≥rico de vers√µes e mudan√ßas.
- [Deploy Cloud com Railway](https://railway.app/) ‚Äî Plataforma recomendada para deploy r√°pido e f√°cil.
- [Reposit√≥rio no GitHub](https://github.com/FuturoDevJunior/teddyleal) ‚Äî C√≥digo-fonte, issues e releases.
- [Contato do Autor ‚Äî Gabriel Ferreira (LinkedIn)](https://www.linkedin.com/in/DevFerreiraG/) ‚Äî D√∫vidas, sugest√µes ou parcerias.

---

## üõ£Ô∏è Roadmap

- [ ] Integra√ß√£o com cache distribu√≠do (Redis)
- [ ] Rate limit global e autentica√ß√£o distribu√≠da
- [ ] Deploy multi-regi√£o e balanceamento de carga
- [ ] Sess√£o distribu√≠da, cache, mensageria, monitoramento centralizado
- [ ] Interface web para gerenciamento dos links
- [ ] Internacionaliza√ß√£o (README e API)

---

## üìù Licen√ßa

Este projeto est√° licenciado sob a licen√ßa MIT. Veja o arquivo [LICENSE](./LICENSE) para mais detalhes.

---

## üì¨ Contato e Suporte

- D√∫vidas ou sugest√µes? Abra uma [issue](https://github.com/FuturoDevJunior/teddyleal/issues) ou envie um PR!
- Contato direto: Gabriel Ferreira ‚Äî [LinkedIn](https://www.linkedin.com/in/DevFerreiraG/) ‚Äî Contato.FerreiraG@outlook.com

---

## ‚òÅÔ∏è Deploy Cloud com Railway

O deploy pode ser realizado facilmente via [Railway](https://railway.app/):

1. **Conecte o reposit√≥rio ao Railway**
   - Crie um novo projeto em https://railway.app/
   - Conecte este reposit√≥rio via GitHub
2. **Configure as vari√°veis de ambiente**
   - Para cada servi√ßo (`backend`, `iam`), configure as vari√°veis conforme os arquivos `.env.example` de cada pasta
3. **Deploy**
   - O Railway detecta automaticamente o arquivo `railway.json` e cria os servi√ßos
   - Acompanhe os logs e URLs geradas

> Consulte o arquivo `railway.json` na raiz para detalhes de configura√ß√£o dos servi√ßos.

---

## ‚úÖ Checklist de Deploy ‚Äî EncurTeddy

### 1. Pr√©-requisitos
- [ ] Docker e Docker Compose instalados **(ou ambiente cloud configurado)**
- [ ] Node.js 20.x instalado (para builds locais)
- [ ] Vari√°veis de ambiente revisadas e seguras (`.env` ou painel cloud)
- [ ] Banco de dados provisionado e acess√≠vel (PostgreSQL)
- [ ] Secrets/JWT configurados corretamente

---

### 2. Prepara√ß√£o do Projeto
- [ ] Pull do c√≥digo atualizado da branch principal (`main` ou `release`)
- [ ] Validar que o pipeline do **GitHub Actions (CI/CD)** est√° passando para o commit/PR atual
- [ ] Rodar `npm install` em todos os servi√ßos (`backend`, `iam`)
- [ ] Rodar `npx prisma generate` e `npx prisma migrate deploy` no backend
- [ ] Validar `.env` de cada servi√ßo (backend, iam, etc.)
- [ ] Conferir configura√ß√µes de CORS, dom√≠nios e portas

---

### 3. Build e Testes
- [ ] Rodar `npm run build` em todos os servi√ßos
- [ ] Rodar `npm test` e garantir **100% dos testes passando**
- [ ] Rodar `npm run lint` e corrigir eventuais avisos/erros
- [ ] Validar cobertura m√≠nima de testes (>80%)
- [ ] Validar que o **cache de depend√™ncias** est√° funcionando no pipeline (ver logs do GitHub Actions)

---

### 4. Infraestrutura
- [ ] Subir banco de dados (local ou cloud)
- [ ] Subir servi√ßos via `docker-compose up --build` **ou** via plataforma cloud (Railway, K8s, etc.)
- [ ] Validar que todos os containers est√£o "healthy" (`docker ps` ou painel cloud)
- [ ] Configurar volumes/persist√™ncia para banco de dados

---

### 5. Configura√ß√£o de Observabilidade
- [ ] Validar vari√°veis de observabilidade (`ENABLE_OBSERVABILITY`, `JAEGER_URL`, etc.)
- [ ] Validar endpoints de m√©tricas (`/metrics`) e tracing
- [ ] Conferir logs estruturados (Winston) e integra√ß√£o com sistemas de log externos (se aplic√°vel)

---

### 6. Valida√ß√£o P√≥s-Deploy
- [ ] Testar endpoints principais via Postman/curl/Swagger
- [ ] Validar autentica√ß√£o, encurtamento, listagem, exclus√£o e redirecionamento
- [ ] Testar cen√°rios de erro (resposta JSON, sem HTML)
- [ ] Validar multi-tenant (header `x-tenant-id`)
- [ ] Validar m√©tricas e tracing em produ√ß√£o

---

### 7. Seguran√ßa e Boas Pr√°ticas
- [ ] Garantir que `.env** N√ÉO** est√° versionado
- [ ] Validar rate limit em endpoints sens√≠veis
- [ ] Validar HTTPS (em produ√ß√£o/cloud)
- [ ] Validar que segredos/JWT n√£o est√£o expostos em logs

---

### 8. Documenta√ß√£o e Comunica√ß√£o
- [ ] Atualizar README e documenta√ß√£o de endpoints
- [ ] Comunicar stakeholders sobre o deploy
- [ ] Registrar release no CHANGELOG.md

---

### 9. Monitoramento e Rollback
- [ ] Monitorar logs e m√©tricas ap√≥s o deploy
- [ ] Ter plano de rollback (ex: `docker-compose down` ou reverter release cloud)
- [ ] Validar alertas de erro e performance

---

<!-- RODAP√â VISUAL E CONTATO -->
<div align="center" style="margin-top: 32px; margin-bottom: 0;">
  <img src="encurteddy.png" alt="Logo EncurTeddy" width="80" style="border-radius: 50%; box-shadow: 0 2px 8px #0002; margin-bottom: 8px;"/>
  <h3>Gabriel Ferreira</h3>
  <p>
    <a href="https://www.linkedin.com/in/DevFerreiraG/" target="_blank"><img src="https://img.shields.io/badge/LinkedIn-0077B5?style=flat-square&logo=linkedin&logoColor=white" alt="LinkedIn"/></a>
    <a href="mailto:Contato.FerreiraG@outlook.com"><img src="https://img.shields.io/badge/Email-0078D4?style=flat-square&logo=microsoft-outlook&logoColor=white" alt="Email"/></a>
    <a href="https://github.com/FuturoDevJunior/teddyleal" target="_blank"><img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=github&logoColor=white" alt="GitHub"/></a>
  </p>
  <p><strong>D√∫vidas, sugest√µes ou parcerias? <br> Fique √† vontade para entrar em contato ou abrir uma <a href="https://github.com/FuturoDevJunior/teddyleal/issues">issue</a>!</strong></p>
</div>

--- 